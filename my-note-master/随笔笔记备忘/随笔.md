# 源码实现

## call,apply,bind 实现

### bind

```javascript
Function.prototype.myBind = function(thisArg) {
  if (typeof this !== 'function') {
    throw new TypeError('Bind must be called a function');
  }
  const args = Array.prototype.slice.call(arguments, 1);
  self = this;
  nop = function() {};
  let bound = function() {
    return self.apply(
      this instanceof nop ? this : thisArg,
      args.concat(Array.prototype.slice.call(arguments))
    );
  };
  if (this.prototype) {
    //都是函数,原型相同,箭头函数没有prototype
    nop.prototype = this.prototype;
  }
  bound.prototype = new nop(); //bound如果是构造函数的原型是pop的实例
  return bound;
};

const bar = function() {
  console.log(this.name, arguments);
};
bar.prototype.name = 'bar';
const foo = {
  name: 'foo'
};
const bound = bar.myBind(foo, 22, 33);
console.log(new bound());
console.log(bound());
```

### call

```javascript
Function.prototype.myCall = function(thisArg) {
  if (typeof this !== 'function') {
    throw new TypeError('must be a function');
  }
  const args = [...arguments].slice(1);
  thisArg = thisArg || window;
  thisArg.fn = this;
  let result = thisArg.fn(...args);
  delete thisArg.fn;
  return result;
};
let foo = {
  name: 'foo'
};
let bar = function() {
  console.log(this.name, arguments);
};
bar.myCall(foo, 11, 22);
```

### apply

```javascript
Function.prototype.myApply = function(thisArg) {
  if (typeof this !== 'function') {
    throw this + ' is not a function';
  }

  const args = arguments[1];

  thisArg.fn = this;

  const result = thisArg.fn(...args);

  delete thisArg.fn;

  return result;
};
let bar = function() {
  console.log(this.name, arguments);
};

bar.prototype.name = 'bar';

const foo = {
  name: 'foo'
};
bar.myApply(foo, [1, 2, 3]);
```

# 备忘

1. 虽然js没做限制,但是尽量在数组中保存同一类型的变量

2. 在一个属性的上方注释配置会有代码提示

   ```javascript
     /**
      * Whether to record perf 记录性能
      */
     performance: false,
   ```

3. 你可能会在很多组件里用到数据/实用工具，但是不想[污染全局作用域](https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch3.md)。这种情况下，你可以通过在原型上定义它们使其在每个 Vue 的实例中可用。

   ```javascript
   Vue.prototype.$appName = 'My App'
   ```

   

4. rem移动端适配

5. vue eslint配置

   ```javascript
   module.exports = {
     env: {
       browser: true,
       es6: true,
       node: true,
     },
     extends: ['eslint:recommended', 'plugin:vue/essential'],
     globals: {
       Atomics: 'readonly',
       SharedArrayBuffer: 'readonly',
     },
     parserOptions: {
       ecmaVersion: 2018,
       sourceType: 'module',
       parser: 'babel-eslint',
     },
     plugins: ['vue'],
     rules: {},
   };
   
   ```

6. 在使用animated动画库的时候注意必须添加animated

   ```vue
   import animated from 'animate.css';
   Vue.use(animated);
    <transition
         enter-active-class="animated fadeIn"
         leave-active-class="animated fadeOut">
         <div></div>
     </transition>
   ```

   